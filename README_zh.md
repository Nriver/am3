# am3

AM3 = Application Manager written with python 3

[English](README.md) | ä¸­æ–‡

ä¸€ä¸ªç”¨äºç®¡ç†å’Œç›‘æ§åº”ç”¨ç¨‹åºçš„å‘½ä»¤è¡Œå·¥å…·ã€‚

## ğŸ¦® ç›®å½•

<!--ts-->
* [am3](#am3)
   * [ğŸ¦® ç›®å½•](#-ç›®å½•)
   * [ğŸ”§ å®‰è£…](#-å®‰è£…)
   * [ğŸ“– åŸºæœ¬ç”¨æ³•](#-åŸºæœ¬ç”¨æ³•)
      * [åˆ—å‡ºåº”ç”¨](#åˆ—å‡ºåº”ç”¨)
      * [å¯åŠ¨åº”ç”¨](#å¯åŠ¨åº”ç”¨)
      * [åœæ­¢åº”ç”¨](#åœæ­¢åº”ç”¨)
      * [é‡å¯åº”ç”¨](#é‡å¯åº”ç”¨)
      * [åˆ é™¤åº”ç”¨](#åˆ é™¤åº”ç”¨)
      * [æŸ¥çœ‹æ—¥å¿—](#æŸ¥çœ‹æ—¥å¿—)
      * [ä¿å­˜å’ŒåŠ è½½åº”ç”¨åˆ—è¡¨](#ä¿å­˜å’ŒåŠ è½½åº”ç”¨åˆ—è¡¨)
   * [âš™ï¸ é«˜çº§åŠŸèƒ½](#ï¸-é«˜çº§åŠŸèƒ½)
      * [é…ç½®æ–‡ä»¶](#é…ç½®æ–‡ä»¶)
      * [è‡ªåŠ¨é‡å¯](#è‡ªåŠ¨é‡å¯)
      * [APIæœåŠ¡](#apiæœåŠ¡)
      * [å¼€æœºè‡ªå¯åŠ¨](#å¼€æœºè‡ªå¯åŠ¨)
   * [ğŸ”„ å‘½ä»¤å‚è€ƒ](#-å‘½ä»¤å‚è€ƒ)
      * [å…¨å±€å‘½ä»¤](#å…¨å±€å‘½ä»¤)
      * [åº”ç”¨ç®¡ç†å‘½ä»¤](#åº”ç”¨ç®¡ç†å‘½ä»¤)
      * [APIæœåŠ¡å‘½ä»¤](#apiæœåŠ¡å‘½ä»¤)
* [ğŸ™ è‡´è°¢](#-è‡´è°¢)
<!--te-->


## ğŸ”§ å®‰è£…

éœ€è¦ Python 3ï¼Œå¤§å¤šæ•°ç°ä»£ Linux å‘è¡Œç‰ˆéƒ½åº”è¯¥å¯ç”¨ã€‚

ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… am3ï¼š

```bash
pip install am3
```

å®‰è£…åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ `am` æˆ– `am3` å‘½ä»¤ã€‚

---

## ğŸ“– åŸºæœ¬ç”¨æ³•

### åˆ—å‡ºåº”ç”¨

è·å–å¹¶æ˜¾ç¤ºæœ‰å…³è¿è¡Œä¸­åº”ç”¨ç¨‹åºçš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬åç§°ã€ID å’Œå…¶ä»–è¯¦ç»†ä¿¡æ¯ã€‚

```bash
am list
# æˆ–ä½¿ç”¨ç®€å†™
am ls
```

æ˜¾ç¤ºæ›´è¯¦ç»†çš„ä¿¡æ¯ï¼š

```bash
am list --all
```

---

### å¯åŠ¨åº”ç”¨

æœ‰å¤šç§æ–¹å¼å¯åŠ¨åº”ç”¨ï¼š

**1. é€šè¿‡åº”ç”¨ ID å¯åŠ¨å·²æ³¨å†Œçš„åº”ç”¨**

```bash
am start 0
```

**2. å¯åŠ¨æ–°åº”ç”¨**

```bash
am start --start "ping" --params "127.0.0.1"
```

**3. ä½¿ç”¨é…ç½®æ–‡ä»¶å¯åŠ¨åº”ç”¨**

```bash
am start --conf example/counter_config.json
```

**4. å¯åŠ¨æ‰€æœ‰åº”ç”¨**

```bash
am start all
```

**å¯åŠ¨é€‰é¡¹è¯´æ˜ï¼š**

- `--start` æˆ– `-s`: æŒ‡å®šå¯åŠ¨è·¯å¾„
- `--interpreter` æˆ– `-i`: æŒ‡å®šè§£é‡Šå™¨è·¯å¾„
- `--working-directory` æˆ– `-d`: æŒ‡å®šå·¥ä½œç›®å½•
- `--params` æˆ– `-p`: æŒ‡å®šå‘½ä»¤å‚æ•°
- `--name` æˆ– `-n`: æŒ‡å®šåº”ç”¨åç§°
- `--restart-control/--no-restart-control`: æ˜¯å¦æ§åˆ¶ç¨‹åºçš„é‡å¯

---

### åœæ­¢åº”ç”¨

é€šè¿‡ ID åœæ­¢è¿è¡Œä¸­çš„åº”ç”¨ï¼š

```bash
am stop 0
```

åœæ­¢æ‰€æœ‰åº”ç”¨ï¼š

```bash
am stop all
```

---

### é‡å¯åº”ç”¨

é‡å¯æŒ‡å®š ID çš„åº”ç”¨ï¼š

```bash
am restart 0
```

é‡å¯æ‰€æœ‰åº”ç”¨ï¼š

```bash
am restart all
```

---

### åˆ é™¤åº”ç”¨

ä»ç®¡ç†åˆ—è¡¨ä¸­åˆ é™¤åº”ç”¨ï¼š

```bash
am delete 0
```

åˆ é™¤æ‰€æœ‰åº”ç”¨ï¼ˆä¼šæç¤ºç¡®è®¤ï¼‰ï¼š

```bash
am delete all
```

---

### æŸ¥çœ‹æ—¥å¿—

æŸ¥çœ‹ AM3 è‡ªèº«çš„æ—¥å¿—ï¼š

```bash
am log
```

æŸ¥çœ‹æŒ‡å®šåº”ç”¨çš„æ—¥å¿—ï¼š

```bash
am log 0
```

æŒç»­æŸ¥çœ‹æ—¥å¿—ï¼ˆç±»ä¼¼ `tail -f`ï¼‰ï¼š

```bash
am log 0 --follow
```

æŒ‡å®šæ˜¾ç¤ºçš„è¡Œæ•°ï¼š

```bash
am log 0 --lines 100
```

---

### ä¿å­˜å’ŒåŠ è½½åº”ç”¨åˆ—è¡¨

ä¿å­˜å½“å‰åº”ç”¨åˆ—è¡¨é…ç½®ï¼š

```bash
am save
```

ä»ä¿å­˜çš„é…ç½®åŠ è½½åº”ç”¨åˆ—è¡¨ï¼š

```bash
am load
```

---

## âš™ï¸ é«˜çº§åŠŸèƒ½

### é…ç½®æ–‡ä»¶

æ‚¨å¯ä»¥å°†åº”ç”¨é…ç½®ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿é‡å¤ä½¿ç”¨ï¼š

```bash
am start --start example/counter.py --interpreter python3 --generate example/counter_config.json
```

ç„¶åä½¿ç”¨é…ç½®æ–‡ä»¶å¯åŠ¨åº”ç”¨ï¼š

```bash
am start --conf example/counter_config.json
```

### è‡ªåŠ¨é‡å¯

AM3 æ”¯æŒåŸºäºå…³é”®å­—æˆ–æ­£åˆ™è¡¨è¾¾å¼çš„è‡ªåŠ¨é‡å¯åŠŸèƒ½ï¼š

```bash
am start --start example/counter.py --restart-keyword "Exception" --restart-keyword-regex "Error.*"
```

è®¾ç½®é‡å¯ç­‰å¾…æ—¶é—´ï¼š

```bash
am start --start example/counter.py --restart-wait-time 3
```

### APIæœåŠ¡

åˆå§‹åŒ– API æœåŠ¡ï¼š

```bash
am api init
```

å¯åŠ¨ API æœåŠ¡ï¼š

```bash
am api start
```

åœæ­¢ API æœåŠ¡ï¼š

```bash
am api stop
```

### å¼€æœºè‡ªå¯åŠ¨

è®¾ç½® AM3 å¼€æœºè‡ªå¯åŠ¨ï¼š

```bash
am startup
```

---

## ğŸ”„ å‘½ä»¤å‚è€ƒ

### å…¨å±€å‘½ä»¤

- `am --version`: æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯
- `am --help`: æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯

### åº”ç”¨ç®¡ç†å‘½ä»¤

- `am list`: åˆ—å‡ºåº”ç”¨
- `am start`: å¯åŠ¨åº”ç”¨
- `am stop`: åœæ­¢åº”ç”¨
- `am restart`: é‡å¯åº”ç”¨
- `am delete`: åˆ é™¤åº”ç”¨
- `am log`: æŸ¥çœ‹æ—¥å¿—
- `am save`: ä¿å­˜åº”ç”¨åˆ—è¡¨
- `am load`: åŠ è½½åº”ç”¨åˆ—è¡¨
- `am startup`: è®¾ç½®å¼€æœºè‡ªå¯åŠ¨

### APIæœåŠ¡å‘½ä»¤

- `am api init`: åˆå§‹åŒ– API æœåŠ¡
- `am api start`: å¯åŠ¨ API æœåŠ¡
- `am api stop`: åœæ­¢ API æœåŠ¡

---

# ğŸ™ è‡´è°¢

æ„Ÿè°¢ Jetbrains æä¾›çš„ä¼˜ç§€ IDE Pycharmã€‚

[![Jetbrains](docs/jetbrains.svg)](https://jb.gg/OpenSource)
